<!DOCTYPE html>
<html>
  <head>
    <script src="rby/meta.js"></script>
    <script src="gsc/meta.js"></script>
    <script>
      window.onload = function() {
	  registerGame("rby", rby);
	  registerGame("gsc", gsc);
      };
      
      var registerGame = function(id, meta) {
	  meta.parse(function(piece) {
	      addEntry(id, piece);
	  });
      }
      
      var addEntry = function(id, piece) {
	  var parent = document.getElementById(id + "-pieces");
	  var div = document.createElement("div");
	  parent.append(div);

	  var img = document.createElement("img");
	  img.src = piece['thumb'];
	  div.append(img);

	  var a = document.createElement("a");
	  a.href = `show.html?game=${id}&${piece['persist']}`
	  a.append(piece['name']);
	  div.append(a);
      }
    </script>
    <link rel="stylesheet" type="text/css" href="index-style.css">
  </head>
  <body>
    <center>
      <h1>Assembly Sheet Music</h1>
      <h2>Pokemon Red, Blue, Yellow</h2>
      <img src="rby/cover/red.jpg" width="250px">
      <img src="rby/cover/blue.jpg" width="250px">
      <img src="rby/cover/yellow.jpeg" width="250px">
      <div class="pieces" id="rby-pieces"></div>
      <h2>Pokemon Gold, Silver, Crystal</h2>
      <img src="gsc/cover/gold.png" width="250px">
      <img src="gsc/cover/silver.png" width="250px">
      <img src="gsc/cover/crystal.jpg" width="250px">
      <div class="pieces" id="gsc-pieces"></div>
    </center>
    <br>
  </body>
</html>
